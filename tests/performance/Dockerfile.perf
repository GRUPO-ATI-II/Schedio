FROM debian:bookworm-slim

WORKDIR /app

# Instalar Java y herramientas necesarias
RUN apt-get update && apt-get install -y \
    default-jre-headless \
    wget \
    && apt-get clean

# Descargar e instalar JMeter
ENV JMETER_VERSION=5.6.3
RUN cd /tmp && \
    wget https://archive.apache.org/dist/jmeter/binaries/apache-jmeter-${JMETER_VERSION}.tgz && \
    tar -xzf apache-jmeter-${JMETER_VERSION}.tgz -C /opt && \
    rm apache-jmeter-${JMETER_VERSION}.tgz

ENV PATH="${PATH}:/opt/apache-jmeter-${JMETER_VERSION}/bin"

# Crear directorio para scripts de JMeter
RUN mkdir -p /app/scripts

# Por defecto, mostrar versi√≥n de JMeter como "Hola Mundo"
CMD ["jmeter", "--version"]


